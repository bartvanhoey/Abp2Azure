## API Deployment succeeded. Web App not working. Fix the issues

* Open the **Debug Console** in the **Kudu** window by navigating to **[YourAppName]api.scm.azurewebsites.net**

* Run the **dir** command to check if [YourAppName].HttpApi.Host files have been deployed in the **home\site\wwwroot** folder

```bash
    dir
```

* Check the dotnet version of the Azure Web App. Should be 6.0.x

```bash
   dotnet --version
```

![Kudu debug console](../images/kudu_debug_console.png)

### HTTP Error 500.30 - - ASP.NET Core app failed to start

* To solve error **HTTP Error 500.30** add **&lt;AspNetCoreHostingModel&gt;OutOfProcess&lt;/AspNetCoreHostingModel&gt;** to the **[YourAppName].HttpApi.Host.csproj** file right below the **TargetFramework** tag

* Open a command prompt in the root folder of your project. Add, Commit and Push all your changes to your GitHub repo

```bash
    git add .
    git commit -m OutOfProcess
    git push
```

* Pushing changes to your GitHub repo repository triggers a **new Build** as **Continuous Integration** is enabled in the Build pipeline.

* The release succeeded but I got **Http Error 502.5 - ANCM Out-Of-Process Startup Failure**

![HTTP Error 502.5 - ANCM Out-Of-Process Startup Failure](../images/ancm_out_of_process_startup_failure.png)

To fix **HTTP Error 502.5** continue with blog post [[How to fix HTTP Error 502.5- ANCM Out-Of-Process Startup Failure]](tutorial/../internal-cryptography-cryptothrowhelper-windowscryptographicexception-access-is-denied.md) and come back afterwards.

* After following the instructions from the blog post above, open the **Debug Console** in the **Kudu Engine** in **[YourAppName]api.scm.azurewebsites.net**

* Start **[YourAppName].HttpApi.Host.exe** in the **Debug Console** to see if there are still errors
  
  ```bash
    C:\home\site\wwwroot>[YourAppName].HttpApi.Host.exe
  ```


```bash
An error occurred using the connection to database '<YourAppName>Db' on server 'tcp:abp2azureserver.database.windows.net,1433'.
[23:49:46 ERR] An exception occurred while iterating over the results of a query for context type 'Volo.Abp.BackgroundJobs.EntityFrameworkCore.BackgroundJobsDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'serveradmin'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.CheckPoolBlockingPeriod(Exception e)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()

```

[23:49:46 ERR] An error occurred using the connection to database '<YourAppName>Db' on server 'tcp:abp2azureserver.database.windows.net,1433'.
[23:49:46 ERR] An exception occurred while iterating over the results of a query for context type 'Volo.Abp.BackgroundJobs.EntityFrameworkCore.BackgroundJobsDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'serveradmin'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.CheckPoolBlockingPeriod(Exception e)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()







[[Previous]](tutorial/../6.create-a-release-pipeline-and-deploy-httpapi-host-project.md) - [[Next]](tutorial/../8.create-a-web-app-in-the-azure-portal-for-the-blazor-project.md)
